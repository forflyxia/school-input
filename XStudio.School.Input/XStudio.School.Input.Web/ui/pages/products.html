<form class="form-inline" role="form" id="my-form-search" action="javascript:void(0)">
    <div class="form-group">
        <label class="sr-only" for="Id">名称</label>
        <input type="text" class="form-control" name="Id" placeholder="请输入ID">
    </div>
    <div class="form-group">
        <label class="sr-only" for="Name">名称</label>
        <input type="text" class="form-control" name="Name" placeholder="请输入名称">
    </div>
    <button type="submit" class="btn btn-default my-btn-search">查询</button>
</form>
<div class="row">aaa</div>
<table id="example2" class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
    <thead>
        <tr role="row">
            <th class="sorting_asc" data-data="ProductID" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending">ProductID</th>
            <th class="sorting" data-data="Name" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">Name</th>
            <th class="sorting" data-data="Name" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">操作</th>
        </tr>
    </thead>
</table>


    <script>
        $(function () {
            var tables = $('#example2').DataTable({
                ajax: {
                    url: $.fn.dataTable.defaults.virtualDir + "product/product/ProductsByPaging",
                    data: function (data) {
                        data.CustomFilterParameters = $("#my-form-search").serializeArray();
                        var json = JSON.stringify(data);
                        //alert(json);
                        return json;
                    }
                },
                columnDefs: [
                {
                    targets: -1,
                    width: "100px",
                    render: function (data, type, full, meta) {
                        var json = JSON.stringify(full);
                        var url = $.fn.dataTable.defaults.virtualDir + 'product/product/view?productid=' + full.ProductID;
                        //alert(url);
                        return '<a class="btn btn-default" href="' + url + '" target="_blank" role="button">查看</a>';
                    }
                }]
            });
            $(".my-btn-search").on("click", function () {
                tables.draw();
            });
        });
    </script>
